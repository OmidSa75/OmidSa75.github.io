<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Ways of processing | Omid Sadeghnezhad </title> <meta name="author" content="Omid Sadeghnezhad"> <meta name="description" content="The concepts of processing in Python"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/icon.png?62b3f84caf231c28be3ca860157d4872"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://sadeghnezhad.me/blog/2024/ways-of-processing/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js" integrity="sha256-rjmgmaB99riUNcdlrDtcAiwtLIojSxNyUFdl+Qh+rB4=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "Ways of processing",
            "description": "The concepts of processing in Python",
            "published": "August 14, 2024",
            "authors": [
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Omid</span> Sadeghnezhad </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/night_step/index.html">قدمِ شب </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Ways of processing</h1> <p>The concepts of processing in Python</p> </d-title> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div> <a href="#introduction">Introduction</a> </div> <div> <a href="#default">Default</a> </div> <div> <a href="#threading">Threading</a> </div> <div> <a href="#multi-process">Multi-Process</a> </div> <div> <a href="#asyncio">AsyncIO</a> </div> </nav> </d-contents> <h1 id="introduction">Introduction</h1> <p>In this blog we want to talk about the concepts of processing in the computer programming specially in python. So when we write a program and execute it, How Python Interpreter interfere with the code? What are the mechanisms to run?</p> <p>The following figure shows the default concepts of processing and some of their characteristics in the python.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/ways-of-processing/concepts-480.webp 480w,/assets/img/posts/ways-of-processing/concepts-800.webp 800w,/assets/img/posts/ways-of-processing/concepts-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/ways-of-processing/concepts.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>I will discuss about this concepts during this post.</p> <h1 id="default">Default</h1> <p>General Speaking, When you run the Python program, a process will run known as <code class="language-plaintext highlighter-rouge">main process</code> and also we have a thread in the <em>main process</em> which is known as <code class="language-plaintext highlighter-rouge">main thread</code>. All lines of codes are going to be executed in the <em>main process</em> by <em>main thread</em>. In detail, the <em>main-process</em> holds the <code class="language-plaintext highlighter-rouge">thread</code>s, but when we didn’t create any thread, the program will start a <em>main-thread</em> automatically inside the <em>main process</em>, It means that a process can hold various threads.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/ways-of-processing/default-480.webp 480w,/assets/img/posts/ways-of-processing/default-800.webp 800w,/assets/img/posts/ways-of-processing/default-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/ways-of-processing/default.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Simple visualization about default program timeline. Each colorized rectangle shows a time duration of a processing function. </div> <h1 id="threading">Threading</h1> <p>One of the ways of processing is using <code class="language-plaintext highlighter-rouge">Thread</code>s in you program, so what does thread do? <em>Thread</em> creates a different timeline in your program that some functions could be executed in the separated timeline. Here, The important point is the object are used inside the thread are shared between the <em>main-thread</em> and the created <em>thread</em>, and also Python has a GIL (Global Interpreter Lock) which doesn’t allow the program to run to functions simultaneously. In detail the GIL won’t allow the interpreter to access the same object in the memory. This behavior causes non-parallelization but you can still do concurrency. So your program will switch between your threads technically and because of this behavior, threads are good for IO bound tasks!</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/ways-of-processing/threading-480.webp 480w,/assets/img/posts/ways-of-processing/threading-800.webp 800w,/assets/img/posts/ways-of-processing/threading-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/ways-of-processing/threading.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> <em>Main-thread</em> and the <em>Thread-1</em> timelines and function calling while the <strong>GIL</strong> is switching between them. </div> <h2 id="object-reference-concept">Object Reference Concept</h2> <p>These are the stages on how an object is created in python, stored in memory and referenced during the program.</p> <ol> <li>The Object created and the value with a reference stored in the memory.</li> <li>The Thread is Opened and the object is used by thread so another reference will be created.</li> <li>The Thread Stopped and the thread object reference was deleted.</li> <li>The program is finished and all object references and values are deleted.</li> </ol> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/ways-of-processing/object_reference_concept-480.webp 480w,/assets/img/posts/ways-of-processing/object_reference_concept-800.webp 800w,/assets/img/posts/ways-of-processing/object_reference_concept-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/ways-of-processing/object_reference_concept.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h1 id="multi-process">Multi-Process</h1> <p>Multi-Processing is designed for the situation you want to run and isolate (or not) part of your program to run independently. In order to use multi-processing you can run parts of your program with processes and there is no <strong>GIL</strong> to limit your timeline because each process has its own <strong>GIL</strong>. Processing doesn’t have access to other’s memory, So you can not expect a single variable to be changed in the main process by child processes or vice versa.</p> <p>To acquire this purpose, a shared state should be defined. By using a shared state the processes can have access to it and use the same memory for reading and writing.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/ways-of-processing/multi_processing-480.webp 480w,/assets/img/posts/ways-of-processing/multi_processing-800.webp 800w,/assets/img/posts/ways-of-processing/multi_processing-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/ways-of-processing/multi_processing.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> A process is started during the program with its own <strong>GIL</strong> and it can share variables to <em>main-process</em> through the shared state. </div> <h1 id="asyncio">AsyncIO</h1> <p>AsyncIO method is designed to execute IO tasks since it can wait on async function response but doesn’t block the CPU. This feature can help execute various async functions simultaneously and collect their responses almost at the same time.</p> <blockquote class="block-tip"> <h5 id="tip">TIP</h5> <p>Python AsyncIO works only for network IO tasks <strong>not</strong> disk IO.</p> </blockquote> <blockquote class="block-warning"> <h5 id="warning">Warning</h5> <p>AsyncIO must used for IO tasks, it doesn’t affect regular ones.</p> </blockquote> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/posts/ways-of-processing/asyncio-480.webp 480w,/assets/img/posts/ways-of-processing/asyncio-800.webp 800w,/assets/img/posts/ways-of-processing/asyncio-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/posts/ways-of-processing/asyncio.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Executing some IO functions with asyncio methodology will achieve concurrency. </div> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <script>let giscusTheme=determineComputedTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"OmidSa75/OmidSa75.github.io","data-repo-id":"658866513","data-category":"Comments","data-category-id":"","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Omid Sadeghnezhad. Last updated: August 19, 2024. </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>